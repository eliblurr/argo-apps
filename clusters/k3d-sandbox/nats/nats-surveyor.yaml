# Default values for surveyor.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1
nameOverride: "surveyor"
fullnameOverride: "surveyor"

podAnnotations: 
  ad.datadoghq.com/prometheus-prefect-exporter.logs: |-
    [{
      "source": "prometheus",
      "service": "prometheus-prefect-exporter",
      "tags": ["env:dev","team:credit"],
      "auto_multi_line_detection": true
    }]
  ad.datadoghq.com/prometheus-prefect-exporter.checks: |-
    {
      "openmetrics": {
        "init_config": {},
        "instances": [
          {
            "openmetrics_endpoint": "http://%%host%%:8000/",
            "namespace": "credit",
            "metrics": [".*"]
          }
        ]
      }
    }

# podSecurityContext:
#   {}
#   # fsGroup: 2000

# securityContext:
#   {}
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

# Toggle whether to automatically mount Service Account token in the pod
# not set means default value, boolean true/false overrides default value
# automountServiceAccountToken: true

# serviceAccount:
#   # Specifies whether a service account should be created
#   create: true
#   # Annotations to add to the service account
#   annotations: {}
#   # The name of the service account to use.
#   # If not set and create is true, a name is generated using the fullname template
#   name: ""

service: {}
#   type: ClusterIP
#   port: 7777

# serviceMonitor:
#   enabled: false
#   labels: {}
#   annotations: {}
#   # interval:
#   # scrapeTimeout:
#   relabelings: []
#   metricRelabelings: []

# ingress:
#   enabled: false
#   annotations:
#     {}
#     # kubernetes.io/ingress.class: nginx
#     # kubernetes.io/tls-acme: "true"
#   hosts:
#     - host: chart-example.local
#       paths: []
#   tls: []
#   #  - secretName: chart-example-tls
#   #    hosts:
#   #      - chart-example.local

# resources:
#   {}
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi

autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 3
  targetCPUUtilizationPercentage: 90
  targetMemoryUtilizationPercentage: 90

# nodeSelector: {}

# tolerations: []

# affinity: {}

config:
  servers: "nats://nats:4222"
  timeout: 3s

  # Expected number of servers
  expectedServers: 3

  # Enable monitoring account metrics.
  accounts: true

  nkey:
    secret:
      name: nats-sys-nkey
      key: sys.nkey

  jetstream:
    enabled: true
    accounts:
    # - name: test
    #   tls:
    #     secret:
    #       name: test-user-tls
    #     ca: "ca.crt" # optional
    #     cert: "tls.crt"
    #     key: "tls.key"
    # - name: basic
    #   username: username
    #   password: password